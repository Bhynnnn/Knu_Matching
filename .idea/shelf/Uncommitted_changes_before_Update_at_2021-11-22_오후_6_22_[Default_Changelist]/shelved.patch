Index: app/src/main/java/com/example/knu_matching/chatting/ChatActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.knu_matching.chatting;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.knu_matching.R;\r\nimport com.example.knu_matching.UserAccount;\r\nimport com.example.knu_matching.membermanage.FindIDActivity;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.api.SystemParameterRule;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ServerValue;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.firestore.auth.User;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.TimeZone;\r\n\r\n\r\npublic class ChatActivity extends AppCompatActivity {\r\n    private ArrayList<String> user_arrayList;\r\n    private Map<String, String> arr_Nick;\r\n    private Button button, chat_in;\r\n    private EditText editText;\r\n    private ArrayList<String> arrayList = new ArrayList<>();\r\n    private ArrayList<String> arrNick = new ArrayList<>();\r\n    private String uid, chatRoomUid, chatRoomUidd, chatRoomName, nickname;\r\n    private Integer listTagNum, roomNum;\r\n    private Boolean boo;\r\n    private Boolean chat_list;\r\n    private RecyclerView recyclerView;\r\n    private Boolean first_chat;\r\n    private FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n\r\n\r\n    private SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"yyyy.MM.dd HH:mm\");\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat);\r\n        uid = FirebaseAuth.getInstance().getCurrentUser().getUid();  //채팅을 요구 하는 아아디 즉 단말기에 로그인된 UID\r\n        arrayList = getIntent().getStringArrayListExtra(\"invited_List\");    //나 제외\r\n        chat_list = getIntent().getExtras().getBoolean(\"chat_list\");\r\n        chatRoomName = getIntent().getExtras().getString(\"chatRoom_name\");\r\n        arrNick = getIntent().getStringArrayListExtra(\"arrNick\");\r\n        listTagNum = getIntent().getExtras().getInt(\"listTagNum\");\r\n        button = (Button) findViewById(R.id.messageActivity_button);\r\n        editText = (EditText) findViewById(R.id.messageActivity_editText);\r\n        recyclerView = (RecyclerView)findViewById(R.id.messageActivity_reclclerview);\r\n        final String myUid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        System.out.println(\"test chat_list \"+ chat_list);\r\n        user_arrayList = new ArrayList<String>();\r\n        roomNum=0;\r\n        System.out.println(\"test oncreate arrNick \"+arrNick);\r\n        if(chat_list == false){\r\n            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").orderByChild(\"users/\"+uid)\r\n                    .equalTo(true).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for(DataSnapshot item : dataSnapshot.getChildren()) {\r\n                        ChatModel chatModel = item.getValue(ChatModel.class);\r\n                        roomNum++;\r\n\r\n                        for(String key : chatModel.users.keySet()){\r\n                            user_arrayList.add(key);\r\n                        }\r\n                        if ((user_arrayList.containsAll(arrayList) == true) && (user_arrayList.size() == arrayList.size())){\r\n                            first_chat = false;\r\n                            chatRoomUid = item.getKey();\r\n                            System.out.println(\"test chatlist false roomNum \"+ roomNum);\r\n                            System.out.println(\"test4 chatlist false chatRoomUid \"+chatRoomUid);\r\n\r\n                            button.setEnabled(true);\r\n                            break;\r\n                        }\r\n                        else {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    ChatModel chatModel = new ChatModel();\r\n                    for(String element: arrayList){\r\n                        //user uid\r\n                        System.out.println(\"test arralist element \" + element);\r\n                        chatModel.users.put(element, true);\r\n                    }\r\n                    chatModel.setChatRoomUid(chatRoomUid);\r\n                    chatModel.setRoomName(chatRoomName);\r\n                    chatModel.setRoomNum(roomNum);\r\n                    System.out.println(\"test chatModel chatModel users \"+chatModel.users);\r\n                    System.out.println(\"test chatModel arrayList \"+arrayList);\r\n                    System.out.println(\"test chatModel chatRoomUid \"+chatRoomUid);\r\n\r\n                    if(chatRoomUid == null){\r\n\r\n                        button.setEnabled(false);\r\n                        first_chat =true;\r\n\r\n                        FirebaseDatabase.getInstance().getReference().child(\"chatrooms\")\r\n                                .push().setValue(chatModel)\r\n                                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                    @Override\r\n                                    public void onSuccess(Void aVoid) {\r\n\r\n                                        checkChatRoom();\r\n                                    }\r\n                                });\r\n                    }\r\n                    checkChatRoom();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").orderByChild(\"roomNum\").equalTo(listTagNum)\r\n                    .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            for(DataSnapshot item : dataSnapshot.getChildren()) {\r\n                                ChatModel chatModel = item.getValue(ChatModel.class);\r\n                                chatRoomUid = item.getKey();\r\n                                System.out.println(\"test dataSnapshot 666  \" + dataSnapshot);\r\n                                System.out.println(\"test item 666  \" + item);\r\n                                System.out.println(\"test listTagNum 666  \" + listTagNum);\r\n                                System.out.println(\"test chatRoomUid 666  \" + chatRoomUid);\r\n                                first_chat = false;\r\n                                recyclerView.setLayoutManager(new LinearLayoutManager(ChatActivity.this));\r\n                                recyclerView.setAdapter(new RecyclerViewAdapter());\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n\r\n                        }\r\n                    });\r\n            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").orderByChild(\"users/\"+uid)\r\n                    .equalTo(true).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot item : dataSnapshot.getChildren()) {\r\n                        ChatModel chatModel = item.getValue(ChatModel.class);\r\n                        roomNum++;\r\n\r\n                        //chatModel의 users랑 arrayList의 값들이 모두 같으면\r\n                        //이미 존재하는 채팅방이라고봐야\r\n                        for (String key : chatModel.users.keySet()) {\r\n                            user_arrayList.add(key);\r\n                        }//이건 chatroom 안에 같이 있는 users arrayList\r\n\r\n\r\n                        System.out.println(\"test userarrayList \"+ user_arrayList);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        //채팅방 내에서 메세지 전송 버튼\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(chatRoomUid == null) {\r\n                    checkChatRoom();\r\n                }\r\n                else {\r\n                    arr_Nick = new HashMap<>();\r\n\r\n                    FirebaseDatabase.getInstance().getReference().child(\"users\").addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            for (DataSnapshot item : snapshot.getChildren()) {\r\n                                UserAccount userAccount = item.getValue(UserAccount.class);\r\n                                System.out.println(\"userAccount \" +userAccount.getNickName());\r\n                                arr_Nick.put(userAccount.getNickName(), userAccount.getUid());\r\n                            }\r\n                            ChatModel.Comment comment = new ChatModel.Comment();\r\n                            comment.uid = uid;\r\n                            comment.msg = editText.getText().toString();\r\n                            comment.timestamp = ServerValue.TIMESTAMP;\r\n                            for (String key : arr_Nick.keySet()) {\r\n                                String value = arr_Nick.get(key);\r\n                                System.out.println(\"Iterating, key: \" + key);\r\n                                System.out.println(\"Iterating, uid: \" + uid);\r\n                                System.out.println(\"Iterating, value: \" + value);\r\n\r\n                                if (value.equals(uid)) {\r\n                                    System.out.println(\"ttest key : \" + key);\r\n                                    System.out.println(\"ttest key : \" + key);\r\n                                    System.out.println(\"ttest value : \" + value);\r\n                                    comment.nickname = key;\r\n                                }\r\n                                else{\r\n                                    System.out.println(\"ttest wrong\");\r\n                                }\r\n                            }\r\n\r\n                            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(chatRoomUid).child(\"comments\").push().setValue(comment).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task<Void> task) {\r\n                                    editText.setText(\"\");\r\n                                }\r\n                            });\r\n                        }\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        checkChatRoom();\r\n    }\r\n\r\n    public void  checkChatRoom(){\r\n        FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").orderByChild(\"users/\"+uid).equalTo(true)\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        for(DataSnapshot item : dataSnapshot.getChildren()){\r\n                            chatRoomUidd = item.getKey();\r\n                            System.out.println(\"test checkChatRoom chatRoomUidd1 \"+chatRoomUidd);\r\n                            System.out.println(\"test checkChatRoom chatRoomUid2 \"+chatRoomUid);\r\n                            System.out.println(\"test checkChatRoom first_chat \"+ first_chat);\r\n                            if((first_chat==true) || (chatRoomUidd==chatRoomUid)){\r\n                                chatRoomUid = chatRoomUidd;\r\n                                System.out.println(\"test checkChatRoom chatRoomUid3 \"+chatRoomUid);\r\n                                button.setEnabled(true);\r\n                                recyclerView.setLayoutManager(new LinearLayoutManager(ChatActivity.this));\r\n                                recyclerView.setAdapter(new RecyclerViewAdapter());\r\n                            }else{\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) { }\r\n                });\r\n    }\r\n\r\n    class RecyclerViewAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder>{\r\n        List<ChatModel.Comment> comments;\r\n        UserAccount userModel;\r\n\r\n        public RecyclerViewAdapter() {\r\n            comments = new ArrayList<>();\r\n            FirebaseDatabase.getInstance().getReference().child(\"users\").child(uid)\r\n                    .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            userModel = dataSnapshot.getValue(UserAccount.class);\r\n                            System.out.println(\"test please userModel \"+ userModel.uid);\r\n                            getMessageList();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n                        }\r\n                    });\r\n        }\r\n\r\n        void getMessageList(){\r\n            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(chatRoomUid).child(\"comments\")\r\n                    .addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            comments.clear();\r\n                            for(DataSnapshot item : dataSnapshot.getChildren()){\r\n                                comments.add(item.getValue(ChatModel.Comment.class));\r\n                                System.out.println(\"please comment item \" + item);\r\n                            }\r\n                            //메세지가 갱신\r\n                            notifyDataSetChanged();\r\n                            recyclerView.scrollToPosition(comments.size() - 1);\r\n                        }\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_message,parent,false);\r\n            return new MessageViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            MessageViewHolder messageViewHolder = ((MessageViewHolder)holder);\r\n            //내가보낸 메세지\r\n            if(comments.get(position).uid.equals(uid)){\r\n                messageViewHolder.textView_message.setText(comments.get(position).msg);\r\n//                messageViewHolder.textView_message.setBackgroundResource(R.drawable.rightbubble);\r\n                messageViewHolder.linearLayout_destination.setVisibility(View.INVISIBLE);\r\n                messageViewHolder.textView_message.setTextSize(25);\r\n                messageViewHolder.linearLayout_main.setGravity(Gravity.RIGHT);\r\n                //상대방이 보낸 메세지\r\n            }else {\r\n                messageViewHolder.textview_name.setText(comments.get(position).nickname);\r\n                messageViewHolder.linearLayout_destination.setVisibility(View.VISIBLE);\r\n//                messageViewHolder.textView_message.setBackgroundResource(R.drawable.leftbubble);\r\n                messageViewHolder.textView_message.setText(comments.get(position).msg);\r\n                messageViewHolder.textView_message.setTextSize(25);\r\n                messageViewHolder.linearLayout_main.setGravity(Gravity.LEFT);\r\n            }\r\n            long unixTime = (long) comments.get(position).timestamp;\r\n            Date date = new Date(unixTime);\r\n            simpleDateFormat.setTimeZone(TimeZone.getTimeZone(\"Asia/Seoul\"));\r\n            String time = simpleDateFormat.format(date);\r\n            messageViewHolder.textView_timestamp.setText(time);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return comments.size();\r\n        }\r\n\r\n        private class MessageViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView textView_message;\r\n            public TextView textview_name;\r\n            public ImageView imageView_profile;\r\n            public LinearLayout linearLayout_destination;\r\n            public LinearLayout linearLayout_main;\r\n            public TextView textView_timestamp;\r\n\r\n            public MessageViewHolder(View view) {\r\n                super(view);\r\n                textView_message = (TextView) view.findViewById(R.id.messageItem_textView_message);\r\n                textview_name = (TextView)view.findViewById(R.id.messageItem_textview_name);\r\n                linearLayout_destination = (LinearLayout)view.findViewById(R.id.messageItem_linearlayout_destination);\r\n                linearLayout_main = (LinearLayout)view.findViewById(R.id.messageItem_linearlayout_main);\r\n                textView_timestamp = (TextView)view.findViewById(R.id.messageItem_textview_timestamp);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        finish();\r\n        overridePendingTransition(R.anim.fromleft,R.anim.toright);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/knu_matching/chatting/ChatActivity.java b/app/src/main/java/com/example/knu_matching/chatting/ChatActivity.java
--- a/app/src/main/java/com/example/knu_matching/chatting/ChatActivity.java	(revision b1429b742f16f66d4545d49af90e18c86831f72b)
+++ b/app/src/main/java/com/example/knu_matching/chatting/ChatActivity.java	(date 1637572347594)
@@ -42,6 +42,8 @@
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
 import com.google.firebase.firestore.auth.User;
+import com.google.firebase.iid.FirebaseInstanceId;
+import com.google.firebase.iid.InstanceIdResult;
 
 import java.text.SimpleDateFormat;
 import java.util.ArrayList;
@@ -246,6 +248,15 @@
                                     editText.setText("");
                                 }
                             });
+                            FirebaseInstanceId.getInstance().getInstanceId().addOnSuccessListener( ChatActivity.this,  new OnSuccessListener<InstanceIdResult>() {
+                                @Override
+                                public void onSuccess(InstanceIdResult instanceIdResult) {
+                                    String newToken = instanceIdResult.getToken();
+                                    Log.e("newToken", newToken);
+
+                                }
+                            });
+
                         }
                         @Override
                         public void onCancelled(@NonNull DatabaseError error) {
Index: app/src/main/java/com/example/knu_matching/main/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.knu_matching.main;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.knu_matching.People.PeolpeFragment;\r\nimport com.example.knu_matching.R;\r\nimport com.example.knu_matching.UserAccount;\r\nimport com.example.knu_matching.chatting.ChatFragment;\r\nimport com.example.knu_matching.main.board.BoardFragment;\r\nimport com.example.knu_matching.main.recruit.RecruitmentFragment;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static Context context;\r\n    public Button btn_register, btn_logout;\r\n    private final String TAG = this.getClass().getSimpleName();\r\n    private FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n    private String uid = user != null ? user.getUid() : null;\r\n    private FirebaseAuth mFirebaseAuth = FirebaseAuth.getInstance();\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    final DocumentReference dbRef = db.collection(\"Account\").document(user.getEmail().replace(\".\", \">\"));\r\n    Context mContext;\r\n    public String strEmail, strPassword, strNick, strMaojr, strStudentId, strPhoneNumber, strStudentName;\r\n\r\n    private ViewPager2 mViewPager;\r\n    private MyViewPagerAdapter myPagerAdapter;\r\n    private TabLayout tabLayout;\r\n\r\n    String code;\r\n    private String[] titles = new String[]{\"최신글\", \"친구\", \"채팅\", \"모집\\n상황\", \"활동\\n게시판\", \"My\\nPage\"};\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        context = MainActivity.this;\r\n        getSupportActionBar().hide();\r\n\r\n\r\n//        dbRef.get()\r\n//                .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n//                    @Override\r\n//                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n//                        if(task.isSuccessful()){\r\n//                            DocumentSnapshot document = task.getResult();\r\n//                            UserAccount userAccount = document.toObject(UserAccount.class);\r\n//                            strStudentName = userAccount.getStudentName();\r\n//                            strEmail = userAccount.getEmailId();\r\n//                            strPassword = userAccount.getPassword();\r\n//                            strNick = userAccount.getNickName();\r\n//                            strMaojr = userAccount.getMajor();\r\n//                            strStudentId = userAccount.getStudentId();\r\n//                            strPhoneNumber = userAccount.getPhoneNumber();\r\n//                            Toast.makeText(MainActivity.this, strMaojr,Toast.LENGTH_SHORT).show();\r\n//                        }\r\n//                    }\r\n//                });\r\n\r\n        dbRef.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                if (e != null) {\r\n                    Log.w(TAG, \"Listen failed.\", e);\r\n                    return;\r\n                }\r\n                if (snapshot != null && snapshot.exists()) {\r\n                    Log.d(TAG, \"Current data: \" + snapshot.getData());\r\n                    UserAccount userAccount = snapshot.toObject(UserAccount.class);\r\n                    strStudentName = userAccount.getStudentName();\r\n                    strEmail = userAccount.getEmailId();\r\n                    strPassword = userAccount.getPassword();\r\n                    strNick = userAccount.getNickName();\r\n                    strMaojr = userAccount.getMajor();\r\n                    strStudentId = userAccount.getStudentId();\r\n                    strPhoneNumber = userAccount.getPhoneNumber();\r\n\r\n                    Toast.makeText(MainActivity.this, \"메인2\"+strNick, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Log.d(TAG, \"Current data: null\");\r\n                }Toast.makeText(MainActivity.this, \"메인\"+strNick, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        });\r\n\r\n        //code = getIntent().getExtras().getString(\"code\"); // 다른 Activity에서 값을 넘겨 받았을 때\r\n        code = \"\";\r\n        Log.e(TAG, code);\r\n\r\n        Fragment frag_post = new PostFragment().newInstance(code, \"\");\r\n        Fragment frag_people = new PeolpeFragment();\r\n        Fragment frag_chat = new ChatFragment();\r\n        Fragment frag_recruit = new RecruitmentFragment();\r\n        Fragment frag_board = new BoardFragment().newInstance(code, \"\");\r\n        Fragment frag_mypage = new MypageFragment().newInstance(code, \"\");\r\n\r\n        mViewPager = findViewById(R.id.viewPager);\r\n        tabLayout = findViewById(R.id.tab_layout);\r\n\r\n        myPagerAdapter = new MyViewPagerAdapter(this);\r\n        myPagerAdapter.addFrag(frag_post);\r\n        myPagerAdapter.addFrag(frag_people);\r\n        myPagerAdapter.addFrag(frag_chat);\r\n        myPagerAdapter.addFrag(frag_recruit);\r\n        myPagerAdapter.addFrag(frag_board);\r\n        myPagerAdapter.addFrag(frag_mypage);\r\n        mViewPager.setAdapter(myPagerAdapter);\r\n\r\n        //displaying tabs\r\n        new TabLayoutMediator(tabLayout, mViewPager, (tab, position) -> tab.setText(titles[position])).attach();\r\n    }\r\n\r\n    public void refresh(){\r\n        Intent intent = getIntent();\r\n        finish(); //현재 액티비티 종료 실시\r\n        overridePendingTransition(0, 0); //인텐트 애니메이션 없애기\r\n        startActivity(intent); //현재 액티비티 재실행 실시\r\n        overridePendingTransition(0, 0);\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/knu_matching/main/MainActivity.java b/app/src/main/java/com/example/knu_matching/main/MainActivity.java
--- a/app/src/main/java/com/example/knu_matching/main/MainActivity.java	(revision b1429b742f16f66d4545d49af90e18c86831f72b)
+++ b/app/src/main/java/com/example/knu_matching/main/MainActivity.java	(date 1637572347600)
@@ -12,12 +12,15 @@
 import android.widget.Button;
 import android.widget.Toast;
 
+import com.example.knu_matching.MyViewPagerAdapter;
+import com.example.knu_matching.MypageFragment;
 import com.example.knu_matching.People.PeolpeFragment;
+import com.example.knu_matching.Post.PostFragment;
 import com.example.knu_matching.R;
+import com.example.knu_matching.Recruitment.RecruitmentFragment;
 import com.example.knu_matching.UserAccount;
+import com.example.knu_matching.board.BoardFragment;
 import com.example.knu_matching.chatting.ChatFragment;
-import com.example.knu_matching.main.board.BoardFragment;
-import com.example.knu_matching.main.recruit.RecruitmentFragment;
 import com.google.android.material.tabs.TabLayout;
 import com.google.android.material.tabs.TabLayoutMediator;
 import com.google.firebase.auth.FirebaseAuth;
Index: app/src/main/java/com/example/knu_matching/People/PeolpeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.knu_matching.People;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.ActivityOptions;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.knu_matching.R;\r\nimport com.example.knu_matching.UserAccount;\r\nimport com.example.knu_matching.chatting.ChatActivity;\r\nimport com.example.knu_matching.chatting.ChatModel;\r\nimport com.example.knu_matching.main.ChangePassWord;\r\nimport com.example.knu_matching.main.PostFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class PeolpeFragment extends Fragment {\r\n    private ArrayList<String> user_arrayList;\r\n    private String uid, strNick, str_chatroom_name, strUid;\r\n    private String chatRoomUid;\r\n    boolean chatin, ischeckfriend, iswritename;\r\n    Button btn_invite;\r\n    EditText chatroom_name;\r\n\r\n    public PeolpeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.activity_peolpe_fragment, container, false);\r\n        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.peoplefragment_recyclerview);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(inflater.getContext()));\r\n        recyclerView.setAdapter(new PeopleFragmentRecyclerViewAdapter());\r\n        uid = FirebaseAuth.getInstance().getCurrentUser().getUid();  //채팅을 요구 하는 아아디 즉 단말기에 로그인된 UID\r\n        btn_invite = (Button) view.findViewById(R.id.btn_invite);\r\n        chatroom_name = (EditText) view.findViewById(R.id.chatroom_name);\r\n        return view;\r\n\r\n    }\r\n\r\n    class PeopleFragmentRecyclerViewAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> {\r\n        List<UserAccount> userModels;\r\n        ArrayList<String> arrayList = new ArrayList<String>();\r\n        ArrayList<String> arrNick = new ArrayList<String>();\r\n\r\n        Context context;\r\n\r\n        public PeopleFragmentRecyclerViewAdapter(ArrayList<String> arrayList, ArrayList<String> arrNick, Context context) {\r\n            this.arrNick = arrNick;\r\n            this.arrayList = arrayList;\r\n            this.context = context;\r\n        }\r\n\r\n        public PeopleFragmentRecyclerViewAdapter() {\r\n            userModels = new ArrayList<>();\r\n\r\n            final String myUid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            //내 UID\r\n            FirebaseDatabase.getInstance().getReference().child(\"users\")\r\n                    .addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            userModels.clear();\r\n                            arrayList.add(myUid);\r\n                            for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                                UserAccount userAccount = snapshot.getValue(UserAccount.class);\r\n\r\n                                System.out.println(\"test getuid \" + userAccount.getUid());\r\n                                System.out.println(\"test myUid \" + myUid);\r\n                                if (userAccount.uid.equals(myUid)) {\r\n                                    arrNick.add(userAccount.getNickName());\r\n                                    System.out.println(\"arrNick1 \"+arrNick);\r\n                                    continue;\r\n                                }\r\n                                userModels.add(userAccount);\r\n                            }\r\n                            notifyDataSetChanged();\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_friend, parent, false);\r\n            return new CustomViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, @SuppressLint(\"RecyclerView\") int position) {\r\n            ((CustomViewHolder) holder).textView.setText(userModels.get(position).getNickName());\r\n\r\n            if (userModels != null && userModels.size() > 0) {\r\n                System.out.println(\"test 11111111111111 \");\r\n                System.out.println(\"test arraylist \" + arrayList);\r\n                ((CustomViewHolder) holder).cbox_invite.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        if (((CustomViewHolder) holder).cbox_invite.isChecked()) {\r\n                            strUid = userModels.get(position).getUid();\r\n                            arrNick.add(userModels.get(position).getNickName());\r\n                            arrayList.add(strUid);\r\n                        } else {\r\n                            strUid = userModels.get(position).getUid();\r\n                            arrNick.remove(userModels.get(position).getNickName());\r\n                            arrayList.remove(strUid);\r\n                        }\r\n\r\n                        if (arrayList.size() == 1) {\r\n                            ischeckfriend = false;\r\n                        } else {\r\n                            ischeckfriend = true;\r\n                        }\r\n\r\n                        System.out.println(\"test8 arraylist \" + arrayList);\r\n                        System.out.println(\"test8 arrNick \" + arrNick);\r\n                        System.out.println(\"test8 arrayList.size() \" + arrayList.size());\r\n                        System.out.println(\"test8 ischeckfriend \" + ischeckfriend);\r\n                    }\r\n                });\r\n            }\r\n\r\n            chatroom_name.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    str_chatroom_name = chatroom_name.getText().toString();\r\n                    if (str_chatroom_name.length() == 0) {\r\n                        iswritename = false;\r\n                    } else {\r\n                        iswritename = true;\r\n                    }\r\n\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n                }\r\n            });\r\n\r\n\r\n            btn_invite.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (iswritename == true && ischeckfriend == true) {\r\n                        System.out.println(\"test arraylist_btn_click \" + arrayList);\r\n                        System.out.println(\"test iswritename \" + iswritename);\r\n                        System.out.println(\"test ischeckfriend \" + ischeckfriend);\r\n                        System.out.println(\"test ChatRoomName \" + str_chatroom_name);\r\n                        Intent intent = new Intent(v.getContext(), ChatActivity.class);\r\n                        intent.putExtra(\"invited_List\", arrayList);\r\n                        intent.putExtra(\"arrNick\", arrNick);\r\n                        intent.putExtra(\"chatIn\", true);\r\n                        intent.putExtra(\"chatRoom_name\", str_chatroom_name);\r\n                        ActivityOptions activityOptions = null;\r\n                        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n                            activityOptions = ActivityOptions.makeCustomAnimation(v.getContext(), R.anim.fromright, R.anim.toleft);\r\n                            startActivity(intent, activityOptions.toBundle());\r\n                        }\r\n                    } else {\r\n                        if (ischeckfriend == false) {\r\n                            Toast.makeText(getContext(), \"초대할 사람을 체크해주세요\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        if (iswritename == false) {\r\n                            Toast.makeText(getContext(), \"채팅방 이름을 입력해주세요\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return userModels.size();\r\n        }\r\n\r\n        private class CustomViewHolder extends RecyclerView.ViewHolder {\r\n            public ImageView imageView;\r\n            public TextView textView;\r\n            public CheckBox cbox_invite;\r\n\r\n            public CustomViewHolder(View view) {\r\n                super(view);\r\n                textView = (TextView) view.findViewById(R.id.frienditem_textview);\r\n                cbox_invite = (CheckBox) view.findViewById(R.id.cbox_invite);\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/knu_matching/People/PeolpeFragment.java b/app/src/main/java/com/example/knu_matching/People/PeolpeFragment.java
--- a/app/src/main/java/com/example/knu_matching/People/PeolpeFragment.java	(revision b1429b742f16f66d4545d49af90e18c86831f72b)
+++ b/app/src/main/java/com/example/knu_matching/People/PeolpeFragment.java	(date 1637572347607)
@@ -28,9 +28,6 @@
 import com.example.knu_matching.R;
 import com.example.knu_matching.UserAccount;
 import com.example.knu_matching.chatting.ChatActivity;
-import com.example.knu_matching.chatting.ChatModel;
-import com.example.knu_matching.main.ChangePassWord;
-import com.example.knu_matching.main.PostFragment;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
Index: app/src/main/java/com/example/knu_matching/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.knu_matching;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.knu_matching.Nav.Edit_profile_Activity;\r\nimport com.example.knu_matching.Nav.Scrap_Activity;\r\nimport com.example.knu_matching.Nav.SettingActivity;\r\nimport com.example.knu_matching.Post.PostFragment;\r\nimport com.example.knu_matching.Recruitment.RecruitmentFragment;\r\nimport com.example.knu_matching.board.BoardFragment;\r\nimport com.example.knu_matching.chatting.PeolpeFragment;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static Context context;\r\n\r\n    public Button btn_register, btn_logout;\r\n    private final String TAG = this.getClass().getSimpleName();\r\n    private FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n    private String uid = user != null ? user.getUid() : null;\r\n    public FirebaseAuth mFirebaseAuth = FirebaseAuth.getInstance();\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    DocumentReference dbRef = db.collection(\"Account\").document(user.getEmail().replace(\".\", \">\"));\r\n    Context mContext;\r\n    public String strEmail, strPassword, strNick, strMaojr, strStudentId, strPhoneNumber, strStudentName;\r\n\r\n    // DrawerLayout\r\n    private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n    private ImageView iv_profile;\r\n    private TextView tv_name, tv_nickname, tv_major, tv_rate;\r\n\r\n    private Intent intent;\r\n    private ViewPager2 mViewPager;\r\n    private MyViewPagerAdapter myPagerAdapter;\r\n    private TabLayout tabLayout;\r\n\r\n    String code;\r\n    private String[] titles = new String[]{\"최신글\", \"친구\", \"모집\\n상황\", \"My\\nPage\", \"활동\\n게시판\"};\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        context = MainActivity.this;\r\n//        getSupportActionBar().hide();\r\n\r\n\r\n//        dbRef.get()\r\n//                .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n//                    @Override\r\n//                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n//                        if(task.isSuccessful()){\r\n//                            DocumentSnapshot document = task.getResult();\r\n//                            UserAccount userAccount = document.toObject(UserAccount.class);\r\n//                            strStudentName = userAccount.getStudentName();\r\n//                            strEmail = userAccount.getEmailId();\r\n//                            strPassword = userAccount.getPassword();\r\n//                            strNick = userAccount.getNickName();\r\n//                            strMaojr = userAccount.getMajor();\r\n//                            strStudentId = userAccount.getStudentId();\r\n//                            strPhoneNumber = userAccount.getPhoneNumber();\r\n//                            Toast.makeText(MainActivity.this, strMaojr,Toast.LENGTH_SHORT).show();\r\n//                        }\r\n//                    }\r\n//                });\r\n\r\n        dbRef.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                if (e != null) {\r\n                    Log.w(TAG, \"Listen failed.\", e);\r\n                    return;\r\n                }\r\n                if (snapshot != null && snapshot.exists()) {\r\n                    Log.d(TAG, \"Current data: \" + snapshot.getData());\r\n                    UserAccount userAccount = snapshot.toObject(UserAccount.class);\r\n                    strStudentName = userAccount.getStudentName();\r\n                    strEmail = userAccount.getEmailId();\r\n                    strPassword = userAccount.getPassword();\r\n                    strNick = userAccount.getNickName();\r\n                    strMaojr = userAccount.getMajor();\r\n                    strStudentId = userAccount.getStudentId();\r\n                    strPhoneNumber = userAccount.getPhoneNumber();\r\n\r\n                    Toast.makeText(MainActivity.this, \"메인2\" + strNick, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Log.d(TAG, \"Current data: null\");\r\n                }\r\n                Toast.makeText(MainActivity.this, \"메인\" + strNick, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        });\r\n\r\n        //code = getIntent().getExtras().getString(\"code\"); // 다른 Activity에서 값을 넘겨 받았을 때\r\n        code = \"\";\r\n        Log.e(TAG, code);\r\n\r\n        Fragment frag_post = new PostFragment().newInstance(code, \"\");\r\n        Fragment frag_people = new PeolpeFragment();\r\n        Fragment frag_recruit = new RecruitmentFragment();\r\n        Fragment frag_board = new BoardFragment().newInstance(code, \"\");\r\n        Fragment frag_mypage = new MypageFragment().newInstance(code, \"\");\r\n\r\n        mViewPager = findViewById(R.id.viewPager);\r\n        tabLayout = findViewById(R.id.tab_layout);\r\n\r\n        myPagerAdapter = new MyViewPagerAdapter(this);\r\n        myPagerAdapter.addFrag(frag_post);\r\n        myPagerAdapter.addFrag(frag_people);\r\n        myPagerAdapter.addFrag(frag_mypage);\r\n        myPagerAdapter.addFrag(frag_recruit);\r\n        myPagerAdapter.addFrag(frag_board);\r\n        mViewPager.setAdapter(myPagerAdapter);\r\n\r\n        //displaying tabs\r\n        new TabLayoutMediator(tabLayout, mViewPager, (tab, position) -> tab.setText(titles[position])).attach();\r\n\r\n        //displaying tabs\r\n        new TabLayoutMediator(tabLayout, mViewPager, (tab, position) -> tab.setText(titles[position])).attach();\r\n\r\n        toolbar = findViewById(R.id.toolBar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        // 액션바 객체\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        //뒤로가기버튼 이미지 적용\r\n        actionBar.setHomeAsUpIndicator(R.drawable.ic_menu);\r\n\r\n\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n\r\n        navigationView = findViewById(R.id.navigationView);\r\n        View nav_header_view = navigationView.getHeaderView(0);\r\n        tv_name = nav_header_view.findViewById(R.id.tv_name);\r\n        tv_nickname = nav_header_view.findViewById(R.id.tv_nickname);\r\n        tv_major = nav_header_view.findViewById(R.id.tv_major);\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n\r\n                switch (menuItem.getItemId()) {\r\n\r\n                    case R.id.nav_scrap:\r\n                        menuItem.setChecked(true);\r\n                        intent = new Intent(MainActivity.context, Scrap_Activity.class);\r\n                        startActivity(intent);\r\n                        drawerLayout.closeDrawers();\r\n                        return true;\r\n\r\n                    case R.id.nav_edit_profile:\r\n                        menuItem.setChecked(true);\r\n                        intent = new Intent(MainActivity.context, Edit_profile_Activity.class);\r\n                        intent.putExtra(\"nickname\", strNick);\r\n                        intent.putExtra(\"studentId\", strStudentId);\r\n                        intent.putExtra(\"major\", strMaojr);\r\n                        intent.putExtra(\"phoneNumber\", strPhoneNumber);\r\n                        intent.putExtra(\"studentName\", strStudentName);\r\n                        startActivity(intent);\r\n                        drawerLayout.closeDrawers();\r\n                        return true;\r\n\r\n                    case R.id.nav_setting:\r\n                        menuItem.setChecked(true);\r\n                        intent = new Intent(MainActivity.context, SettingActivity.class);\r\n                        startActivity(intent);\r\n                        drawerLayout.closeDrawers();\r\n                        return true;\r\n                }\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n        dbRef.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                if (e != null) {\r\n                    Log.w(TAG, \"Listen failed.\", e);\r\n                    return;\r\n                }\r\n                if (snapshot != null && snapshot.exists()) {\r\n                    Log.d(TAG, \"Current data: \" + snapshot.getData());\r\n                    UserAccount userAccount = snapshot.toObject(UserAccount.class);\r\n                    strStudentName = userAccount.getStudentName();\r\n                    strEmail = userAccount.getEmailId();\r\n                    strPassword = userAccount.getPassword();\r\n                    strNick = userAccount.getNickName();\r\n                    strMaojr = userAccount.getMajor();\r\n                    strStudentId = userAccount.getStudentId();\r\n                    strPhoneNumber = userAccount.getPhoneNumber();\r\n\r\n                    tv_name.setText(strStudentName);\r\n                    tv_nickname.setText(strNick);\r\n                    tv_major.setText(strMaojr);\r\n\r\n                } else {\r\n                    Log.d(TAG, \"Current data: null\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void displayMessage(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    //메뉴 선택시 네비게이션 호출\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                drawerLayout.openDrawer(GravityCompat.START);\r\n                return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/knu_matching/MainActivity.java b/app/src/main/java/com/example/knu_matching/MainActivity.java
--- a/app/src/main/java/com/example/knu_matching/MainActivity.java	(revision b1429b742f16f66d4545d49af90e18c86831f72b)
+++ b/app/src/main/java/com/example/knu_matching/MainActivity.java	(date 1637572347613)
@@ -24,10 +24,10 @@
 import com.example.knu_matching.Nav.Edit_profile_Activity;
 import com.example.knu_matching.Nav.Scrap_Activity;
 import com.example.knu_matching.Nav.SettingActivity;
+import com.example.knu_matching.People.PeolpeFragment;
 import com.example.knu_matching.Post.PostFragment;
 import com.example.knu_matching.Recruitment.RecruitmentFragment;
 import com.example.knu_matching.board.BoardFragment;
-import com.example.knu_matching.chatting.PeolpeFragment;
 import com.google.android.material.navigation.NavigationView;
 import com.google.android.material.tabs.TabLayout;
 import com.google.android.material.tabs.TabLayoutMediator;
